<div class='container flex-grow-1 d-flex flex-column'>
    <h4>Contact list</h4>

    <div class='row flex-grow-1 d-flex flex-row '>
        <div class='container col-2 d-flex flex-column'>
            <% User.all.each do | u | %>
                <% unless u.id == @current_user.id %>
                    <% if u.id == params[:id].to_i %>
                    <%= link_to "#{u.name}", chat_path(u), :class => "mb-2 btn btn-secondary" %>
                    <% else %>
                    <%= link_to "#{u.name}", chat_path(u), :class => "mb-2 btn btn-outline-secondary" %>
                    <% end %>
                <% end %>
            <% end %>
        </div>

        <div class='container col-10 flex-grow-1 d-flex flex-column' > 

            <div class='row flex-grow-1'>
                <% @messages.each do | msg | %>
                    <% if msg.from_user == @current_user.id %>
                        <div class='col-12 d-flex flex-row justify-content-end'>
                            <span class='col-3 border bg-primary text-white p-1 rounded'>
                                <p><%= msg.message %></p>
                            </span>
                        </div>
                        <div class='col-12 d-flex flex-row justify-content-end'>
                            <span class='col-3'>
                                <p class='text-secondary small'><%= msg.created_at.strftime('%a %e %b %y, %I:%M %P %z') %></p>
                            </span>
                        </div>

                    <% else %>
                    <div class='col-12 d-flex flex-row justify-content-start'>
                            <span class='col-3 border bg-secondary text-white p-1 rounded'>
                                <p><%= msg.message %></p>
                            </span>
                        </div>
                        <div class='col-12 d-flex flex-row justify-content-start'>
                            <span class='col-3'>
                                <p class='text-secondary small'><%= msg.created_at.strftime('%a %e %b %y, %I:%M %P %z') %></p>
                            </span>
                        </div>
                    <% end %>
                <% end %>
            </div>


            <div class='row border border-dark'>
                <p>Bottom row, want this to be the typing area</p>
            </div>
            <div class='row d-flex flex-row justify-content-end'>
                <button class='btn btn-primary'>Send</button>
            </div>

        </div>
        <div class='container bg-danger'>
            <!-- MAKE THIS DIV GIVE A LITTLE SPACE AT THE BOTTOM -->
        </div>
    </div>
</div>
